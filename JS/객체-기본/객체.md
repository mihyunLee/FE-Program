# 객체



> 출처 - [**모던 JS 튜토리얼**](******https://ko.javascript.info/******) 을 보고 정리한 글입니다.



<br>



**객체형**은 하나의 데이터를 담을 수 있는 원시형(primitive type)과는 달리 다양한 데이터를 담을 수 있다.

- `{...}` 를 이용해 만들 수 있다.
- `키(key): 값(value)` 쌍으로 프로퍼티가 구성된다.
- `키`에는 문자형, `값`에는 모든 자료형이 허용된다.

객체는 서랍장처럼 `key`라는 이름이 붙어있는 파일 안에 여러 개의 `value` 자료들이 있다고 생각하면 쉽다.

<br>

## 1. 객체 생성 방법

```javascript
let user = new Object(); // ① 객체 생성 문법
let user = {}; // ② 객체 리터럴 문법
```

중괄호 `{...}`를 이용해 객체를 선언하는 것을 *객체 리터럴(object literal)* 이라고 부른다.

<br>

## 2. 리터럴과 프로퍼티

```javascript
let user = {
    name: "John",
    age: 30
}
```

`콜론(:)`을 기준으로 왼쪽엔 키, 오른쪽엔 값이 위치한다.

프로퍼티 키는 `프로퍼티 이름` 혹은 `식별자` 라고도 한다.

1. 첫 번째 프로퍼티 - key : `name` , value : `John`
2. 두 번째 프로퍼티 - key : `age`, value : `30`

<br>

### 프로퍼티 조회, 추가, 삭제

- 프로퍼티 조회

`점 표기법`(dot notation)을 이용하여 값을 읽을 수 있다.

```javascript
// 프로퍼티 값 읽기
alert(user.name); // John
alert(user.age); // 30
```

- 프로퍼티 추가

```javascript
user.isAdmin = true;
```

- 프로퍼티 삭제

`delete` 연산자를 사용하면 프로퍼티를 삭제할 수 있다.

```javascript
delete user.age;
```

<br>

### 프로퍼티 생성 규칙

- 여러 단어를 조합할 경우 프로퍼티 이름을 따옴표로 묶어주어야 한다.

```javascript
let user = {
  name: "John",
  age: 30,
  "likes birds": true  // 복수의 단어는 따옴표로 묶어야 한다.
};
```

- 프로퍼티 끝은 쉼표로 끝날 수 있다.

```javascript
let user = {
  name: "John",
  age: 30,
}
```

이런 쉼표를 `trailing`(길게 늘어지는) 혹은 `hanging`(매달리는) 쉼표라고 부른다.

끝에 쉼표를 붙이면 모든 프로퍼티가 유사한 형태를 보이기 때문에 프로퍼티를 추가, 삭제, 이동하는 게 쉬워진다.

<br>

### ⚠️ 상수 객체는 수정될 수 있다.

```javascript
const user = {
    name: "John"
};

user.name = "Pete";

alert(user.name); // Pete
```

user 객체가 `const`로 선언되었어도 const는 user의 값을 고정하고 그 내용은 고정하지 않는다.

따라서 객체 안의 `key`와 `value` 값을 변경할 수 있지만, `user=...` 처럼 객체 전체를 변경하는 것은 오류가 발생한다.

<br>

## 3. 대괄호 표기법

여러 단어를 조합해 프로퍼티 키를 만든 경우엔, 점 표기법을 사용할 수 없다.

점 표기법은 **유효한 변수 식별자**인 경우에만 사용할 수 있다.

> **유효한 변수 식별자란?**
> 변수명에 공백이 없고, 숫자로 시작하지 않으며 `$`와 `_`를 제외한 특수 문자가 없어야 한다.

 유효한 변수 식별자가 아닌 경우엔 `대괄호 표기법`(square bracket notation)을 사용하면 된다.

```javascript
let user = {};

// Syntax Error
// user.likes birds = true; 

user["likes birds"] = true;
```

<br>

### 표현식의 평가 결과를 프로퍼티 키로 사용하기

```javascript
let user = {
  name: "John",
  age: 30
};

let key = prompt("사용자의 어떤 정보를 얻고 싶으신가요?", "name");

// 변수로 접근
alert(user[key]); // John (프롬프트 창에 "name"을 입력한 경우)
```

prompt 창에 입력한 `key` 를 가져온 다음에,  `user` 객체에 해당하는 `key`의 `value  `값을 읽어온다.

위 코드의 경우 prompt 창에 `name`을 입력하면 John이,  `age`를 입력하면 30을 보여준다.

<br>

```javascript
let user = {
  name: "John",
  age: 30
};

let key = "name";

alert( user.key ) // undefined
```

`점 표기법`은 변수를 키를 사용하는 등의 동작을 할 수 없다.

<br>

### 계산된 프로퍼티

객체 리터럴 안의 프로퍼티 키가 대괄호로 둘러싸여 있는 경우 이를 `계산된 프로퍼티`(computed property)라고 부른다.

```javascript
let fruit = prompt("어떤 과일을 구매하시겠습니까?", "apple");

let bag = {
  [fruit]: 5, // 변수 fruit에서 프로퍼티 이름을 동적으로 받아온다.
};

alert(bag.apple); // fruit에 "apple"이 할당되었다면, 5가 출력된다.
```



위 예시와 동일하게 동작한다.

```javascript
let fruit = prompt("어떤 과일을 구매하시겠습니까?", "apple");
let bag = {};

// 변수 fruit을 사용해 프로퍼티 추가
bag[fruit] = 5;
```

<br>

## 4. 단축 프로퍼티

프로퍼티 이름과 값이 변수의 이름과 동일한 경우, *프로퍼티 값 단축 구문(property value shorthand)* 을 사용하여 코드를 줄일 수 있다.

```javascript
function makeUser(name, age) {
    return {
        name, // name: name 과 같다.
        age, // age: age 와 같다.
    };
}
```

<br>

## 5. 프로퍼티 이름의 제약사항

- 예약어를 객체의 키로 사용해도 괜찮다.
- 문자형이나 심볼형이 아닌 키 값은 문자열로 자동 형 변환된다.
- `__proto__`를 키 값으로 사용하면 할당되는 value 값이 무시된다.

<br>

## 6. `in` 연산자

객체는 존재하지 않는 프로퍼티에 접근하려 해도 에러가 발생하지 않고 `undefined` 가 반환된다.

따라서, 일치 연산자를 사용하면 프로퍼티 존재 여부를 알 수 있다.

```javascript
let user = {};

alert(user.noSuchProperty === undefined); // true
```

<br>

`in`연산자는 위의 코드처럼 프로퍼티 존재 여부를 확인할 수 있다.

```javascript
"key" in object
```



```javascript
let user = { name: "John", age: 30 };

alert( "age" in user ); // true
alert( "blabla" in user ); // false
```



> **일치 연산자가 아닌 `in` 연산자를 사용하는 경우?**  
> 프로퍼티가 존재하지만 값으로 undefined가 할당되었을 때



## 7. `for...in` 반복문

`for...in` 반복문을 사용하면 객체의 모든 키를 순회할 수 있다.

```javascript
for (key in object){
    // 각 프로퍼티 키(key)를 이용하여 본문(body)을 실행한다.
}
```

<br>

### 객체 정렬 방식

객체의 **정수 프로퍼티**는 **자동**으로 정렬되고, **그 외**의 프로퍼티는 **객체에 추가한 순서** 그대로 정렬된다.

> **정수 프로퍼티란?**
>
> 변형 없이 정수에서 왔다 갔다 할 수 있는 문자열
>
> Ex.
>
> (1) "49" : 정수로 변환하거나 다시 문자열로 바꿔도 변형이 없다.
>
> (2) "+49" : 정수로 변환하거나 다시 문자열로 바꾸면 49가 되기 때문에 변형이 있어 정수 프로퍼티가 아니다.
>
> (3) "1.2" : 정수 프로퍼티가 아님



만약, 키 값에 정수를 사용하였을 때 객체에 추가된 순서로 정렬하고 싶다면

속임수로 정수 앞에 `'+'`를 붙이게 되면 `'+숫자'`는 정수 프로퍼티가 아니기 때문에 객체에 추가된 순서로 정렬된다.

<br>

## 8. 그 외의 객체들

- `Array` - 정렬된 데이터 컬렉션을 저장할 때 사용
- `Date` - 날짜와 시간 정보를 저장할 때 사용
- `Error` - 에러 정보를 저장할 때 사용
- 기타 등등



