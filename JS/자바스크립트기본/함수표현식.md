# 함수 표현식



> 출처 - [모던 JS 튜토리얼](****https://ko.javascript.info/****) 을 보고 정리한 글입니다.



<br>



자바스크립트는 다른 언어에서처럼 **특별한 동작을 하는 구조**가 아닌 **특별한 종류의 값**으로 취급한다.

<br>

```javascript
// 함수 선언(Function Declaration)
function sayHello(){
    alert("Hello");
}

// 함수 표현식(Function Expression)
let sayHello = function(){
    alert("Hello");
};

// 함수 코드 출력
alert(sayHello);
```

함수가 어떤 방식으로 만들어졌는지에 관계없이 함수는 `값`이기 때문에 변수에 할당할 수 있다.

`alert(sayHello)` 코드에서 sayHello 옆에 괄호가 없기 때문에 함수가 실행되지는 않는다.

하지만 함수가 값처럼 취급되어 함수 소스 코드가 **문자형**으로 바뀌어 출력된다.

<br>

## 1. 콜백 함수

`question`, `yes`, `no` 매개변수 3개를 갖는 `ask `함수가 있다.

```javascript
function ask(question, yes, no) {
  if (confirm(question)) yes()
  else no();
}

function showOk() {
  alert( "동의하셨습니다." );
}

function showCancel() {
  alert( "취소 버튼을 누르셨습니다." );
}

// 함수 showOk와 showCancel가 ask 함수의 인수로 전달된다.
ask("동의하십니까?", showOk, showCancel);
```

**콜백함수** 란 함수를 함수의 인수로 전달하고, 필요하다면 인수로 전달한 그 함수를 **나중에 호출(called back)** 한 것이다.

위 예시에서는 함수 `ask`의 인수인 `showOk`와 `showCancel`은 ***콜백 함수*** 또는 ***콜백***이라고 불린다.

사용자가 confirm 창에서 확인을 누르면 `showOk`가 콜백이 되고, 취소를 누르면 `showCancel`가 콜백이 된다.

<br>

### 함수 표현식 사용하기

```javascript
function ask(question, yes, no) {
  if (confirm(question)) yes()
  else no();
}

ask(
  "동의하십니까?",
  function() { alert("동의하셨습니다."); },
  function() { alert("취소 버튼을 누르셨습니다."); }
);
```

함수 `ask` 안에 함수 표현식을 사용하여 함수를 선언할 수 있다. 이렇게 이름 없이 선언한 함수는 ***익명 함수(anonymous function)*** 라고 부른다.

익명 함수는 `ask` 바깥에서는 접근할 수 없다.

<br>

## 2. 함수 표현식 vs 함수 선언문

### 1. 문법

- `함수 선언문` : 주요 코드 흐름 중간에 독자적인 구문 형태로 존재한다.

```javascript
function sum(a, b){
    return a + b;
}
```

- `함수 표현식` : 표현식이나 구문 구성 내부에 생성된다.

```javascript
let sum = function(a, b) {
    return a + b;
};
```

<br>

### 2. 자바스크립트 엔진이 함수를 생성하는 시기

- `함수 선언문`
  - 함수 선언문이 정의되기 전에도 호출할 수 있다.
  - 자바스크립트는 스크립트가 실행되기 전, 정의한 함수가 생성된다.

```javascript
sayHello("Mark"); // Hello, Mark

function sayHello(name){
    alert(`Hello, ${name}`);
}
```



- `함수 표현식`
  - 함수가 선언되기 전에 호출할 수 없다.
  - 실제 실행 흐름이 해당 함수에 도달했을 때 함수를 생성한다.

```javascript
sayHello("Mark"); // error

let sayHello = function(name){
    alert(`Hello, ${name}`);
}
```

<br>

### 3. 스코프

- `함수 선언문` : 엄격 모드에서 함수 선언문이 코드 블록 내에 위치하면 블록 밖에서는 함수에 접근할 수 없다.

  ```javascript
  let age = 16;
  
  if (age < 18) {
    welcome();               // \   (실행)
                             //  |
    function welcome() {     //  |
      alert("안녕!");         //  |  함수 선언문은 함수가 선언된 블록 내
    }                        //  |  어디에서든 유효하다
                             //  |
    welcome();               // /   (실행)
  
  } else {
    function welcome() {
      alert("안녕하세요!");
    }
  }
  
  // 여기는 중괄호 밖이기 때문에
  // 중괄호 안에서 선언한 함수 선언문은 호출할 수 없다.
  
  welcome(); // Error: welcome is not defined
  
  ```

- `함수 표현식`

  ```javascript
  let age = prompt("나이를 알려주세요.", 18);
  
  let welcome;
  
  if (age < 18) {
    welcome = function() {
      alert("안녕!");
    };
  
  } else {
    welcome = function() {
      alert("안녕하세요!");
    };
  
  }
  
  welcome(); // 동작됨
  ```

  물음표 연산자 `?`를 사용하면 코드를 좀 더 단순화할 수 있다.

  ```javascript
  let age = prompt("나이를 알려주세요.", 18);
  
  let welcome = (age < 18) ?
    function() { alert("안녕!"); } :
    function() { alert("안녕하세요!"); };
  
  welcome(); // 동작됨
  ```

  