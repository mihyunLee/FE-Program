# 주석



> 출처 - [모던 JS 튜토리얼](****https://ko.javascript.info/****) 을 보고 정리한 글입니다.



<br>



코드 구조에서 알아본 것 처럼 한 줄 짜리 주석은 `//`로, 여러 줄의 주석은 `/* ... */`로 시작한다.

**주석(commnet)** 은 어떻게 코드가 동작하는지, 왜 코드가 동작하는지를 설명하는데 쓰인다.

<br>

## 1. 좋지 않은 주석

- 코드에서 무슨 일이 일어나는지에 대한 내용을 적지 않는다.
- 주석 없이 코드 자체만으로 코드가 무슨 일을 하는지 쉽게 이해할 수 있어야 한다.

<br>

### 리팩토링 팁: 함수 분리하기

> ***리팩토링이란?***
>
> 코드 결과의 변경 없이 코드의 구조를 재조정함으로써 가독성을 높이고 유지보수를 편하게 하는 것

```javascript
function showPrimes(n) {
  nextPrime:
  for (let i = 2; i < n; i++) {

    // i가 소수인지 확인
    for (let j = 2; j < i; j++) {
      if (i % j == 0) continue nextPrime;
    }

    alert(i);
  }
}
```

코드 일부를 함수 `isPrime`으로 옮기면 더 나은 코드를 작성할 수 있다.

```javascript
function showPrimes(n) {

  for (let i = 2; i < n; i++) {
    if (!isPrime(i)) continue;

    alert(i);
  }
}

function isPrime(n) {
  for (let i = 2; i < n; i++) {
    if (n % i == 0) return false;
  }

  return true;
}
```

코드 자체가 주석 역할을 해서 쉽게 이해할 수 있는 코드를 *자기 설명적인 (self-descriptive)* 코드라 부른다.

<br>

### 리팩토링 팁: 함수 만들기

- `for`문이나 `if`문의 코드가 나열되어 있는 경우 함수로 만들어서 옮기는게 낫다.

```javascript
// 위스키를 더해줌
for(let i = 0; i < 10; i++) {
  let drop = getWhiskey();
  smell(drop);
  add(drop, glass);
}

// 주스를 더해줌
for(let t = 0; t < 3; t++) {
  let tomato = getTomato();
  examine(tomato);
  let juice = press(tomato);
  add(juice, glass);
}

// ...
```

```javascript
addWhiskey(glass);
addJuice(glass);

function addWhiskey(container) {
  for(let i = 0; i < 10; i++) {
    let drop = getWhiskey();
    //...
  }
}

function addJuice(container) {
  for(let t = 0; t < 3; t++) {
    let tomato = getTomato();
    //...
  }
}
```

<br>

## 2. 좋은 주석

### (1) 아키텍처를 설명하는 주석

고차원 수준 컴포넌트 개요, 컴포넌트 간 상호작용에 대한 설명, 상황에 따른 제어 흐름 등은 주석에 넣는 게 좋다.

### (2) 함수 용례와 매개변수 정보를 담고 있는 주석

[JSDoc](https://en.wikipedia.org/wiki/JSDoc)이라는 특별한 문법을 사용하면 함수에 관한 문서를 쉽게 작성할 수 있다. 여기엔 함수 용례, 매개변수, 반환 값 정보가 들어간다.

```javascript
/**
 * x를 n번 곱한 수를 반환함
 *
 * @param {number} x 거듭제곱할 숫자
 * @param {number} n 곱할 횟수, 반드시 자연수여야 함
 * @return {number} x의 n 거듭제곱을 반환함
 */
function pow(x, n) {
  ...
}
```

WebStorm 등의 다양한 에디터는 이런 주석을 이용해 자동 완성 기능, 자동 에러 검출 기능 등을 제공한다.

### (3) 왜 이런 방법으로 문제를 해결했는지 설명하는 주석

- 해결 방법을 담고 있는 주석은 이전에 했던 실수를 방지하는 역할을 하기 때문

### (4) 미묘한 기능이 있고, 이 기능이 어디에 쓰이는지를 설명하는 주석

기능 파악이 어려운 코드가 있다면 주석을 달아주는 게 좋다.

