# 기본 연산자와 수학

> 출처 - [**모던 JS 튜토리얼**](**https://ko.javascript.info/**) 을 보고 정리한 글입니다.



<br>



## 1. 용어 : '단항', '이항', '피연산자'

- **피연산자(operand)** : 연산자가 연산을 수행하는 대상
  - 인수(argument) 라고 불리기도 한다.
  - 5 * 2 에서 5와 2는 피연산자
- **단항(unary) 연산자** : 피연산자를 하나만 받는 연산자
  - Ex ) 피연산자의 부호를 뒤집는 `-` 
- **이항(binary) 연산자** : 두 개의 피연산자를 받는 연산자
  - Ex ) 이항 마이너스 연산자(뺄셈 연산자, `-`), 이항 플러스 연산자(`+`)

<br>

## 2. 수학

### 자바스크립트에서 지원하는 수학 연산자

| 기능     | 연산자 |
| -------- | ------ |
| 덧셈     | +      |
| 뺄셈     | -      |
| 곱셈     | *      |
| 나눗셈   | /      |
| 나머지   | %      |
| 거듭제곱 | **     |

<br>

### 나머지 연산자 %

**나머지 연산자(remainder operator, %)** 를 사용한 표현식 `a % b`는 a를 b로 나눈 후 그 나머지를 정수로 반환한다.

```javascript
alert( 5 % 2 ); // 1
alert( 8 % 3 ); // 2
```

<br>

### 거듭제곱 연산자 **

**거듭제곱 연산자(exponentiation)** 를 사용한 `a**b`는 a를 b번 곱한 값이 반환된다.

```javascript
alert( 2 ** 2 ); // 4
alert( 2 ** 3 ); // 8

alert( 4 ** (1/2) ) // 2, 1/2 거듭제곱은 제곱근
alert( 8 ** (1/3) ) // 2, 1/3 거듭제곱은 세제곱근
```

<br>

## 3. 이항 연산자 '+'와 문자열 연결

덧셈 연산자 `+` 는 숫자를 더한 값을 반환하기도 하지만, 이항 연산자 `+`의 피연산자로 문자열이 전달되면 문자열을 병합한다.

```javascript
let str = "app" + "le";
alert(str) // apple
```

<br>

이항 연산자 `+` 사용 시, 피연산자 중 하나가 문자열이면 다른 하나도 문자열로 변환된다.

```javascript
alert( '1' + 2 ); // "12"
alert( 2 + '1' ); // "21"
```

<br>

**예외 )** 뺄셈 `-` 과 나눗셈 `/` 연산자

```javascript
alert( 6 - '2' ); // 4, '2'를 숫자로 변환 후 연산이 진행된다.
alert( '6' / '2' ); // 3, 두 피연산자가 숫자로 바뀐 후 연산이 진행된다.
```

<br>

## 4. 단항 연산자 +와 숫자형으로의 변환

피연산자가 숫자인 경우에는 아무런 동작도 하지 않지만, 숫자가 아닌 경우엔 숫자형으로의 변환이 일어난다.

단항 덧셈 연산자(`+`)는 `Number(...)`와 동일한 동작을 한다.



```javascript
let x = 1;
alert( +x ); // 1

alert( +true ); // 1
alert ( +"" ); // 0
```

<br>

## 5. 연산자 우선순위

`1 + 2 * 2` 라는 식이 있을 때 곱셈이 먼저, 그 후에 덧셈 계산이 일어난다.

이러한 개념을 **연산자 우선순위**라하고, 곱셈은 덧셈보다 더 높은 우선순위를 갖는다.

연산자 우선순위를 변경시키고 싶다면 `괄호()`를 사용하면 된다.

괄호는 모든 연산자보다 우선순위가 높기 때문에 `(1 + 2) * 2`에서 덧셈이 더 먼저 계산된다.

<br>

### [우선순위 테이블(precedence table)](https://developer.mozilla.org/en-US/docs/Web/JavaScript/Reference/Operators/Operator_Precedence)

| 순위 | 연산자 이름 | 기호 |
| ---- | ----------- | ---- |
| …    | …           | …    |
| 17   | 단항 덧셈   | `+`  |
| 17   | 단항 부정   | `-`  |
| 16   | 지수        | `**` |
| 15   | 곱셈        | `*`  |
| 15   | 나눗셈      | `/`  |
| 13   | 덧셈        | `+`  |
| 13   | 뺄셈        | `-`  |
| …    | …           | …    |
| 3    | 할당        | `=`  |
| ...  | ...         | ...  |

<br>

## 5. 할당 연산자

**할당(assignment) 연산자 (=)** 의 우선순위는 3으로 낮다.

`x = 2 * 2 + 1`과 같은 표현식에서 계산이 먼저 이뤄지고, 그 결과가 x에 할당되는 이유가 우선순위가 낮기 때문이다.

<br>

### 값을 반환하는 할당 연산자

자바스크립트에서 대부분의 연산자들은 값을 반환한다.

`x = value` 를 호출하면 `value`가 `x`에 쓰여지고, 이에 더해서 `value`가 반환된다.



```javascript
let a = 1;
let b = 2;

let c = 3 - (a = b + 1);

alert(a); // 3
alert(c); // 0
```

표현식 `(a = b + 1)`은 a에 값을 할당하고, 그 값인 3을 반환한다. 그리고 반환 값은 이어지는 표현식에 사용된다.

평소 직접 코드를 작성할 땐 가독성이 떨어지고, 코드가 명확하지 않기 때문에 위와 같은 방식을 사용하지 않는다.

<br>

### 할당 연산자 체이닝

```javascript
let a, b, c;

a = b = c = 2 + 2;

alert(a); // 4
alert(b); // 4
alert(c); // 4
```

- 할당 연산자를 여러 개 연결한 경우, 우측에서 좌측으로 평가가 진행된다.
- 먼저, `2 + 2`가 평가되고 그 결과가 c, b, a에 순차적으로 할당된다.

- 되도록이면 연산자 체이닝 보다는 줄을 나눠 코드를 작성하는 것이 좋다.

 <br>

## 6. 복합 할당 연산자

**복합 할당 연산자**는 연산자와 할당 연산자의 동작을 합쳐놓은 것이다.

```javascript
let n = 2;
n += 5; // n = n + 5
n *= 2; // n = n * 2

alert(n); // 14
```

<br>

우선순위는 할당 연산자와 동일하기 때문에 다른 연산자가 실행된 후에 복합 할당 연산자가 실행된다.

```javascript
let n = 2;

n *= 3 + 5;

alert(n); // 16, 3 + 5가 실행된 뒤에 'n*='이 실행된다.
```

<br>

## 7. 증가·감소 연산자

**증가, 감소 연산자**는 변수에 사용하고, 1 증가시키거나 감소시키는 동작을 한다.

- **증가(increment) 연산자** : `++`

  - 변수를 1 증가시킨다.

  - ```javascript
    let counter = 2;
    counter++; // counter = counter + 1과 동일하다.
    alert(counter); // 3
    ```

- **감소(decrement) 연산자** : `--`

  - 변수를 1 감소시킨다.

  - ```javascript
    let counter = 2;
    counter--; // counter = counter - 1과 동일하다.
    alert(counter); // 1
    ```

<br>

### 후위형(postfix form), 전위형(prefix form)

- 후위형 : `counter++` 와 같이 피연산자 뒤에 올 경우, 증가/감소 전의 `기존 값`을 반환한다.
- 전위형 : `++counter`와 같이 피연산자 앞에 올 경우, 증가/감소 후의 `새로운 값`을 반환한다.

```javascript
let counter = 2;
let a = ++counter; // 전위형

alert(a); // 3
```

```javascript
let counter = 2;
let a = counter++; // 후위형

alert(a); // 2
```

<br>

- 반환 값을 사용하지 않는 경우에는 전위형, 후위형엔 차이가 없다.

```javascript
let counter = 0;
counter++;
++counter;
alert(counter) // 2
```

<br>

## 8. 비트 연산자

**비트 연산자(bitwise operator)** 는 인수를 32비트 정수로 변환하여 이진 연산을 수행한다.

2진 표현에서 숫자를 다뤄야 할 때 쓰이므로 웹 개발 시엔 많이 사용되진 않는다.

| 동작                    | 연산자 |
| ----------------------- | ------ |
| 비트 AND                | &      |
| 비트 OR                 | \|     |
| 비트 XOR                | ^      |
| 비트 NOT                | ~      |
| 왼쪽 시프트             | <<     |
| 오른쪽 시프트           | >>     |
| 부호 없는 오른쪽 시프트 | >>>    |

<br>

## 9. 쉼표 연산자

**쉼표 연산자(comma operator)** `,`는 코드를 짧게 쓰려는 의도로 가끔 사용된다.

여러 표현식을 코드 한 줄에서 평가할 수 있게하고 마지막 표현식의 평가 결과만 반환된다.

```javascript
let a = (1 + 2, 3 + 4);
let b = 1 + 2, 3 + 4;

alert(a); // 7 (1 + 2도 평가되지만 마지막 표현식인 3 + 4의 값만 반환되어 할당된다.)
alert(b); // 3
```

쉼표 연산자의 우선순위는 할당 연산자보다 낮기 때문에 `1 + 2`가 실행된 후, `b = 3`이 할당되고 나머지 `7`은 무시된다.

