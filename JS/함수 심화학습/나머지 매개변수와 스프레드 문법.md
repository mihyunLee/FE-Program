# 나머지 매개변수와 스프레드 문법



> 출처 - [**모던 JS 튜토리얼**](https://ko.javascript.info/)을 보고 정리한 글입니다.



<br>



## 1. 나머지 매개변수 `...`

매개변수의 `...`는 남아있는 매개변수들을 모아 배열에 집어넣어준다.

```javascript
function sumAll(...args) { // args는 배열의 이름입니다.
  let sum = 0;

  for (let arg of args) sum += arg;

  return sum;
}

alert( sumAll(1) ); // 1
alert( sumAll(1, 2) ); // 3
alert( sumAll(1, 2, 3) ); // 6
```

위 코드에서는 모든 인수가 배열 `args`에 모인다.

`sumAll(num1, num2, ...args)`처럼 앞 부분의 매개변수는 변수로, 남아있는 매개변수들은 `args` 배열로 모을 수도 있다.

나머지 매개변수는 인수를 모으는 역할이기 때문에 항상 **마지막**에 있어야한다.

<br>

## 2. arguments 객체

유사 배열 객체(array-like object)인 `arguments`를 사용하면 인덱스를 사용해 인수에 접근할 수 있다.

```javascript
function showName() {
  alert( arguments.length );
  alert( arguments[0] );
  alert( arguments[1] );
}

showName("Bora", "Lee"); // 2, Bora, Lee 가 차례대로 출력됨

showName("Bora"); // 1, Bora, undefined가 차례대로 출력됨
```

- 나머지 매개변수가 나오기 이전에 함수의 인수 전체를 얻기 위해 `arguments`를 사용했다.
- `arguments`는 유사 배열 객체이면서 이터러블 객체이기 때문에 배열 메서드를 사용할 순 없지만 `for..of`는 사용 가능하다.
- `arguments`는 인수 전체를 담기 때문에 나머지 매개변수처럼 인수의 일부만 사용할 수 없다.

<br>

### ⚠️ 화살표 함수는 `arguments` 객체를 지원하지 않는다.

```javascript
let showArg = () => alert(arguments[0]);

showArg(1); // Error: arguments is not defined
```

```javascript
function f() {
  let showArg = () => alert(arguments[0]);
  showArg();
}

f(1); // 1
```

화살표 함수는 자체 `this`를 가지지 않기 때문에 화살표 함수에서 `arguments` 객체에 접근하면, 외부에 있는 **일반 함수의 arguments 객체**를 가져온다.

<br>

## 3. 스프레드 문법

`스프레드 문법`(spread syntax, 전개 문법)은 `...`를 사용하여 이터러블 객체의 인수 목록을 확장시킨다.

```javascript
let arr = [3, 5, 1];

alert( Math.max(...arr) ); // 5
```

스프레드 문법을 사용하지 않았다면 `Math.max(arr[0], arr[1], arr[2])`로 작성했을 것이다. 배열 길이를 알 수 없을 때 스프레드 문법을 사용하는 것이 좋다.

<br>

- 스프레드 문법과 기본 값을 혼합해 사용하기

스프레드 문법은 나머지 매개변수와는 다르게 꼭 마지막에 위치할 필요는 없다.

```javascript
let arr1 = [1, -2, 3, 4];
let arr2 = [8, 3, -8, 1];

alert( Math.max(1, ...arr1, 2, ...arr2, 25) ); // 25
```



- 스프레드 문법을 사용하여 배열 합치기

```javascript
let arr = [3, 5, 1];
let arr2 = [8, 9, 15];

let merged = [0, ...arr, 2, ...arr2];

alert(merged); // 0,3,5,1,2,8,9,15 (0, arr, 2, arr2 순서로 합쳐짐)
```



- 이터러블 객체에 스프레드 문법 사용해보기

```javascript
let str = "Hello";

alert( [...str] ); // H,e,l,l,o
```

스프레드 문법은 `for..of`와 같은 방식으로 내부에서 이터레이터를 사용해 요소를 수집한다.

메서드 `Array.from`은 이터러블 객체인 문자열을 배열로 바꿔주기 때문에 `Array.from`을 사용해도 동일한 작업을 할 수 있다.

하지만 `Array.from(obj)`와 `[...obj]`는 미묘한 차이가 존재한다.

| `Array.from`                                   | 스프레드 문법               |
| ---------------------------------------------- | --------------------------- |
| 유사 배열 객체와 이터러블 객체 둘 다 사용 가능 | 이터러블 객체에만 사용 가능 |

<br>

## 4. 배열과 객체의 복사본 만들기

`Object.assign()` 메서드 외에 스프레드 문법을 사용하면 배열과 객체를 복사할 수 있다.

```javascript
let arr = [1, 2, 3];
let arrCopy = [...arr]; // 배열을 펼쳐서 각 요소를 분리후, 매개변수 목록으로 만든 다음에
                        // 매개변수 목록을 새로운 배열에 할당함

// 기존 배열과 복사본의 요소 비교
alert(JSON.stringify(arr) === JSON.stringify(arrCopy)); // true

// 두 배열이 같은 지 비교
alert(arr === arrCopy); // false (참조가 다름)

// 참조가 다르기 떄문에 둘 중 하나의 배열 요소 값을 변경해도 영향을 받지 않는다
arr.push(4);
alert(arr); // 1, 2, 3, 4
alert(arrCopy); // 1, 2, 3
```

